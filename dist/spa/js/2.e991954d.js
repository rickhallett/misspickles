(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{8041:function(t,e,a){"use strict";var r=a("cb9a"),s=a.n(r);s.a},"8b24":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"fit column no-wrap justify-around items-center content-start font-applicator"},[a("div",[a("q-icon",{staticClass:"text-secondary add-pick-btn",attrs:{name:"add_circle_outline"},on:{click:t.addPick}}),a("h1",[t._v(t._s(t.totalPicksToday))])],1),a("q-table",{staticClass:"text-primary",attrs:{title:"",data:t.compressedStore,columns:t.compressedStoreTableCols,"row-key":"name"}}),a("div",{staticClass:"sum-graph"})],1)},s=[];const o="1.1.1",n="1.1",i=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],l={log:!1},c=!1,m={now:!1},d=!l.log;JSON.clone=function(t){if(!t)throw new Error("JSON.clone parameter value invalid.");return JSON.parse(JSON.stringify(t))};const h={*splitNParts(t,e){let a=0;for(let r=0;r<e-1;r++){const e=Math.ceil(Math.random()*(t-a));yield e,a+=e}yield t-a},deepEqual(t,e){return JSON.stringify(t)===JSON.stringify(e)},createLog(t="default"){let e=0;return(a,r={},s=null)=>{if(l.log){e++;const o=`${t} log: ${(new Date).toISOString()}-LOG-#${e} => ${a}`,n=` %c${t} log:${(new Date).toISOString()}-LOG-#${e} => ${a}`,i=""+(s?"color:"+s:"");return a instanceof Error?(console.error(o,r),!1):0===Array.from(Object.keys(r)).length?void console.log(n,i):(console.log(n,i,r),!0)}}},genRnd(){return Math.ceil(10*Math.random())+1}},p=h.createLog("app");var g={name:"Main",data(){return{masterStore:[],compressedStore:[],summaryStore:[],compressedStoreTableCols:[{name:"date",label:"Date",field:"date",sortable:!0,style:"",classes:"",headerStyle:"",headerClasses:""},{name:"morning",label:"AM",field:"morning",sortable:!0,style:"",classes:"",headerStyle:"",headerClasses:""},{name:"afternoon",label:"PM",field:"afternoon",sortable:!0,style:"",classes:"",headerStyle:"",headerClasses:""},{name:"night",label:"Night",field:"night",sortable:!0,style:"",classes:"",headerStyle:"",headerClasses:""}]}},methods:{store(){localStorage.setItem("misspicker"+o,JSON.stringify(this.masterStore))},retrieve(){return JSON.parse(localStorage.getItem("misspicker"+o))},addPick(){const t=new Date,e=`${t.getDate()}-${i[t.getMonth()]}-${t.getFullYear()}`,a=this.incrementDate(t,e);a||this.addDate(t,e),this.store(),this.compressData(),this.summariseData(),this.printGraphData()},incrementDate(t,e){for(let a=0;a<this.masterStore.length;a++)if(this.masterStore[a].date===e)return this.masterStore[a][t.getHours()]++,!0;return!1},addDate(t,e){this.masterStore.push({date:e});for(let a=0;a<24;a++)this.$set(this.masterStore[this.masterStore.length-1],a,0);this.masterStore[this.masterStore.length-1][t.getHours()]++},compressData(){for(let t=0;t<this.masterStore.length;t++){this.$set(this.compressedStore,t,{date:this.masterStore[t].date,morning:0,afternoon:0,night:0});for(let e=0;e<24;e++)e>=0&&e<12&&this.$set(this.compressedStore[t],"morning",this.compressedStore[t].morning+this.masterStore[t][e]),e>=12&&e<18&&this.$set(this.compressedStore[t],"afternoon",this.compressedStore[t].afternoon+this.masterStore[t][e]),e>=18&&e<=23&&this.$set(this.compressedStore[t],"night",this.compressedStore[t].night+this.masterStore[t][e])}},summariseData(){this.summaryStore=this.compressedStore.map(t=>({date:t.date,total:t.morning+t.afternoon+t.night}))},printGraphData(){p("printing graph data",{},"yellow"),document.querySelectorAll("svg").forEach(t=>t.remove());var t=d3.select(".sum-graph"),e={top:30,right:20,bottom:30,left:50},a=375-e.left-e.right,r=270-e.top-e.bottom,s=d3.time.format("%d-%b-%Y").parse,o=d3.time.scale().range([0,a]),n=d3.scale.linear().range([r,0]),i=d3.svg.axis().scale(o).orient("bottom").ticks(4),l=d3.svg.axis().scale(n).orient("left").ticks(5),c=d3.svg.line().x((function(t){return o(t.date)})).y((function(t){return n(t.close)})),m=d3.select("body").append("svg").attr("width",a+e.left+e.right).attr("height",r+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")");let d=JSON.clone(this.summaryStore);d.forEach((function(t){t.date=s(t.date),t.close=+t.total})),o.domain(d3.extent(d,(function(t){return t.date}))),n.domain([0,d3.max(d,(function(t){return t.total}))]),m.append("path").attr("class","line").attr("d",c(d)),m.selectAll("circle").data(d).enter().append("circle").attr("r",6).attr("cx",(function(t){return o(t.date)})).attr("cy",(function(t){return n(t.close)})).on("mouseover",(function(e,a){t.style("transform","translate("+o(e.date)+"px,"+n(e.total)+"px)"),t.text(e.total)})),m.append("g").attr("class","x axis").attr("transform","translate(0,"+r+")").call(i),m.append("g").attr("class","y axis").call(l)}},computed:{totalPicksToday(){const t=new Date,e=`${t.getDate()}-${i[t.getMonth()]}-${t.getFullYear()}`;let a=0;for(let r=0;r<this.masterStore.length;r++)if(this.masterStore[r].date===e){for(let t=0;t<24;t++)a+=this.masterStore[r][t];break}return a}},created(){p("app instance created",{},"limegreen"),this.compressData(),localStorage.removeItem("misspicker"),localStorage.removeItem("misspicker"+n)},mounted(){p("app instance mounted",{},"limegreen"),c?(this.masterStore=[{date:"10-Sep-2020"},{date:"11-Sep-2020"},{date:"12-Sep-2020"},{date:"13-Sep-2020"},{date:"14-Sep-2020"},{date:"15-Sep-2020"},{date:"16-Sep-2020"},{date:"17-Sep-2020"}],this.masterStore.forEach(t=>{for(let e=0;e<24;e++)this.$set(t,e,h.genRnd())})):this.masterStore=this.masterStore.length>0?this.masterStore:this.retrieve()||[],p("compressing data",{},"orange"),this.compressData(),p("summarising data",{},"orange"),this.summariseData(),this.printGraphData(),window.t=this.printGraphData,window.p=this.addPick,m.now&&setInterval(()=>{this.addPick()},50),d&&console.clear(),console.log("masterStore",this.masterStore),console.log("compressedStore",this.compressedStore),console.log("summaryStore",this.summaryStore)}},S=g,u=(a("8041"),a("2877")),f=a("9989"),y=a("0016"),b=a("eaac"),v=a("b498"),D=a("eebe"),w=a.n(D),$=Object(u["a"])(S,r,s,!1,null,null,null);e["default"]=$.exports;w()($,"components",{QPage:f["a"],QIcon:y["a"],QTable:b["a"],QColor:v["a"]})},cb9a:function(t,e,a){}}]);