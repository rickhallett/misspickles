(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{8041:function(t,e,r){"use strict";var a=r("cb9a"),s=r.n(a);s.a},"8b24":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-page",{staticClass:"fit column no-wrap justify-around items-center content-start font-applicator"},[r("div",[r("q-icon",{staticClass:"text-secondary add-pick-btn",attrs:{name:"add_circle_outline"},on:{click:t.addPick}}),r("h1",[t._v(t._s(t.totalPicksToday))])],1),r("q-table",{staticClass:"text-primary",attrs:{title:"",data:t.compressedStore,columns:t.compressedStoreTableCols,"row-key":"name"}}),r("div",{staticClass:"sum-graph"})],1)},s=[];JSON.clone=function(t){if(!t)throw new Error("JSON.clone parameter value invalid.");return JSON.parse(JSON.stringify(t))};const o={*splitNParts(t,e){let r=0;for(let a=0;a<e-1;a++){const e=Math.ceil(Math.random()*(t-r));yield e,r+=e}yield t-r},deepEqual(t,e){return JSON.stringify(t)===JSON.stringify(e)},createLog(t="default"){let e=0;return(r,a={},s=null)=>{e++;const o=`${t} log: ${(new Date).toISOString()}-LOG-#${e} => ${r}`,n=` %c${t} log:${(new Date).toISOString()}-LOG-#${e} => ${r}`,i=""+(s?"color:"+s:"");return r instanceof Error?(console.error(o,a),!1):0!==Array.from(Object.keys(a)).length?(console.log(n,i,a),!0):void console.log(n,i)}},genRnd(){return Math.ceil(10*Math.random())+1}},n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];o.createLog("app");var i={name:"Main",data(){return{masterStore:[],compressedStore:[],summaryStore:[],compressedStoreTableCols:[{name:"date",label:"Date",field:"date",sortable:!0,style:"",classes:"",headerStyle:"",headerClasses:""},{name:"morning",label:"AM",field:"morning",sortable:!0,style:"",classes:"",headerStyle:"",headerClasses:""},{name:"afternoon",label:"PM",field:"afternoon",sortable:!0,style:"",classes:"",headerStyle:"",headerClasses:""},{name:"night",label:"Night",field:"night",sortable:!0,style:"",classes:"",headerStyle:"",headerClasses:""}]}},methods:{store(){localStorage.setItem("misspicker1.1",JSON.stringify(this.masterStore))},retrieve(){return JSON.parse(localStorage.getItem("misspicker1.1"))},addPick(){const t=new Date,e=`${t.getDate()}-${n[t.getMonth()]}-${t.getFullYear()}`,r=this.incrementDate(t,e);r||this.addDate(t,e),this.store(),this.compressData(),this.summariseData(),this.printGraphData()},incrementDate(t,e){for(let r=0;r<this.masterStore.length;r++)if(this.masterStore[r].date===e)return this.masterStore[r][t.getHours()]++,!0;return!1},addDate(t,e){this.masterStore.push({date:e});for(let r=0;r<24;r++)this.$set(this.masterStore[this.masterStore.length-1],r,0);this.masterStore[this.masterStore.length-1][t.getHours()]++},compressData(){for(let t=0;t<this.masterStore.length;t++){this.$set(this.compressedStore,t,{date:this.masterStore[t].date,morning:0,afternoon:0,night:0});for(let e=0;e<24;e++)e>=0&&e<12&&this.$set(this.compressedStore[t],"morning",this.compressedStore[t].morning+this.masterStore[t][e]),e>=12&&e<18&&this.$set(this.compressedStore[t],"afternoon",this.compressedStore[t].afternoon+this.masterStore[t][e]),e>=18&&e<=23&&this.$set(this.compressedStore[t],"night",this.compressedStore[t].night+this.masterStore[t][e])}},summariseData(){this.summaryStore=this.compressedStore.map(t=>({date:t.date,total:t.morning+t.afternoon+t.night}))},printGraphData(){document.querySelectorAll("svg").forEach(t=>t.remove());var t=d3.select(".sum-graph"),e={top:30,right:20,bottom:30,left:50},r=375-e.left-e.right,a=270-e.top-e.bottom,s=d3.time.format("%d-%b-%Y").parse,o=d3.time.scale().range([0,r]),n=d3.scale.linear().range([a,0]),i=d3.svg.axis().scale(o).orient("bottom").ticks(4),l=d3.svg.axis().scale(n).orient("left").ticks(5),c=d3.svg.line().x((function(t){return o(t.date)})).y((function(t){return n(t.close)})),m=d3.select("body").append("svg").attr("width",r+e.left+e.right).attr("height",a+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")"),d=JSON.clone(this.summaryStore);d.forEach((function(t){t.date=s(t.date),t.close=+t.total})),console.log("dataR",d);var h=d;o.domain(d3.extent(h,(function(t){return t.date}))),n.domain([0,d3.max(h,(function(t){return t.total}))]),m.append("path").attr("class","line").attr("d",c(h)),m.selectAll("circle").data(h).enter().append("circle").attr("r",6).attr("cx",(function(t){return o(t.date)})).attr("cy",(function(t){return n(t.close)})).on("mouseover",(function(e,r){t.style("transform","translate("+o(e.date)+"px,"+n(e.total)+"px)"),t.text(e.total)})),m.append("g").attr("class","x axis").attr("transform","translate(0,"+a+")").call(i),m.append("g").attr("class","y axis").call(l)}},computed:{totalPicksToday(){const t=new Date,e=`${t.getDate()}-${n[t.getMonth()]}-${t.getFullYear()}`;let r=0;for(let a=0;a<this.masterStore.length;a++)if(this.masterStore[a].date===e){for(let t=0;t<24;t++)r+=this.masterStore[a][t];break}return r}},created(){this.compressData(),localStorage.removeItem("misspicker")},mounted(){this.masterStore=this.masterStore.length>0?this.masterStore:this.retrieve()||[],this.compressData(),this.summariseData(),this.printGraphData(),window.t=this.printGraphData,window.p=this.addPick,console.log("masterStore",this.masterStore),console.log("compressedStore",this.compressedStore),console.log("summaryStore",this.summaryStore)}},l=i,c=(r("8041"),r("2877")),m=r("9989"),d=r("0016"),h=r("eaac"),p=r("b498"),u=r("eebe"),g=r.n(u),S=Object(c["a"])(l,a,s,!1,null,null,null);e["default"]=S.exports;g()(S,"components",{QPage:m["a"],QIcon:d["a"],QTable:h["a"],QColor:p["a"]})},cb9a:function(t,e,r){}}]);